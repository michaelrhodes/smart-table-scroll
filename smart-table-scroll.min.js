!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.SmartTableScroll=t()}}(function(){return function t(i,s,e){function o(a,n){if(!s[a]){if(!i[a]){var r="function"==typeof require&&require;if(!n&&r)return r(a,!0);if(h)return h(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var l=s[a]={exports:{}};i[a][0].call(l.exports,function(t){var s=i[a][1][t];return o(s?s:t)},l,l.exports,t,i,s,e)}return s[a].exports}for(var h="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(t,i){"use strict";function s(t,i){for(var s=0,e=0,o=t.length;o>s;)e=s+(o-s>>1),t[e]<i?s=e+1:o=e;return s}var e={heightFn:function(){return 10},availableNodes:100},o=function(t){if(!(this instanceof o))return new o(t);if(!t.el)throw new Error("Need to pass `el` into ScrollableTable.");if(!t.data)throw new Error("Need to pass `data` into ScrollableTable.");if(!t.buildRow)throw new Error("Need to pass `buildRow` into ScrollableTable.");if(!t.updateRow)throw new Error("Need to pass `updateRow` into ScrollableTable.");for(var i in e)this[i]=e[i];for(var i in t)this[i]=t[i];this.rowsWithNodes=[],this.tops=[],this.el.className=this.el.className+" sts-container",this.reset()};o.prototype.reset=function(){for(this.yPosition=0,this.setHeights();this.el.firstChild;)this.el.remove(this.el.firstChild);for(var t=0;t<this.data.length;t++)this.data[t].__node=null;this.rowsWithNodes=[];var i=Math.min(this.availableNodes,this.data.length);for(t=0;i>t;t++){var s=this.buildRow(this.data[t]);s.style.top=this.data[t].__top+"px",s.className=s.className+" sts-row",this.el.appendChild(s),this.rowsWithNodes.push(t),this.data[t].__node=s}this.bottomEl=document.createElement("div"),this.bottomEl.className="sts-bottom-anchor",this.bottomEl.style.top=this.totalHeight+"px",this.el.appendChild(this.bottomEl),this.el.addEventListener("scroll",this.updateVisibleRows.bind(this))},o.prototype.updateVisibleRows=function(){if(!this.isUpdating){this.isUpdating=!0;var t=this.el.scrollTop+this.el.clientHeight/2,i=s(this.tops,t),e=0,o=Math.max(0,i-Math.ceil(this.availableNodes/2)),h=Math.min(this.data.length,i+Math.ceil(this.availableNodes/2));if(this.lastMidNdx===i)return this.isUpdating=!1,void 0;this.lastMidNdx=i;for(var a=o;h>a;a++)if(!this.data[a].__node){for(;this.rowsWithNodes[e]>o&&this.rowsWithNodes[e]<h;)e++;this.data[a].__node=this.data[this.rowsWithNodes[e]].__node,this.updateRow(this.data[a],this.data[a].__node),this.data[a].__node.style.top=this.data[a].__top+"px",this.data[this.rowsWithNodes[e]].__node=null,this.rowsWithNodes[e]=a,e++}this.isUpdating=!1}},o.prototype.setHeights=function(){this.totalHeight=0,this.tops=[];for(var t=0;t<this.data.length;t++)this.data[t].__top=this.totalHeight,this.tops.push(this.totalHeight),this.totalHeight+=this.heightFn(this.data[t]);return this.totalHeight},o.prototype.updateData=function(t){var i,s,e=[];if(!this.isUpdating){if(this.isUpdating=!0,t.length<this.rowsWithNodes.length)for(i=this.rowsWithNodes.length-1;i>=t.length;i--){var o=this.data[this.rowsWithNodes[i]].__node;o.parentNode.removeChild(o),this.data[this.rowsWithNodes[i]].__node=null,this.rowsWithNodes.pop()}for(i=0;i<Math.min(this.rowsWithNodes.length,t.length);i++)e.push(this.data[this.rowsWithNodes[i]].__node),this.data[this.rowsWithNodes[i]].__node=null,this.rowsWithNodes[i]=i;if(e.length<t.length&&e.length<this.availableNodes)for(i=e.length;i<Math.min(this.availableNodes,t.length);i++)s=this.buildRow(t[i]),s.className=s.className+" sts-row",this.el.appendChild(s),e.push(s),this.rowsWithNodes.push(i);for(this.data=t,this.setHeights(),i=0;i<e.length;i++)this.data[i].__node=e[i],this.updateRow(this.data[i],this.data[i].__node),this.data[i].__node.style.top=this.data[i].__top+"px";this.bottomEl.style.top=this.totalHeight+"px",this.isUpdating=!1,this.updateVisibleRows()}},i.exports=o},{}]},{},[1])(1)});